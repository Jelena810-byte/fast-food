<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= user.username %>’s Menu</title>
  <link rel="stylesheet" href="/stylesheet/style.css" />
</head>
<body>
  <%- include('../partials/_navbar.ejs') %>

  <main class="menu-page">
    <header class="menu-header">
      <h1><%= user.username %>’s Food Menu 🍔</h1>
    </header>

    <% if (menu && menu.length > 0) { %>
      <section class="menu-items">
        <% menu.forEach(item => { %>
          <div class="menu-card">
            <% if (item.image) { %>
              <img src="<%= item.image %>" alt="<%= item.name %>" class="menu-image" />
            <% } %>
            <div class="menu-info">
              <h2><%= item.name %></h2>
              <p class="menu-description"><%= item.description || 'No description available.' %></p>
              <p class="menu-price">$<%= item.price ? item.price.toFixed(2) : 'N/A' %></p>
            </div>
          </div>
        <% }) %>
      </section>
    <% } else { %>
      <section class="empty-menu">
        <p>No dishes have been added yet.</p>
        <a href="/users/<%= user._id %>/menu/new" class="add-dish-btn">➕ Add a New Dish</a>
      </section>
    <% } %>
  </main>
</body>
</html>
